# файл миграции базы данных для инструмента Liquibase
databaseChangeLog: # Корневой элемент файла.
  - changeSet:   # Начало описания одного конкретного изменения (чейнджсета). это атомарная операция миграции.
      id: 001-create-users-table # УНИКАЛЬНЫЙ идентификатор пользователя в системе. Нельзя менять после применения.
      author: your_name   # Имя пользователя (для истории)
      changes:   # Начало списка операций, которые будут выполнены в этом чейнджсете.
        - createTable:   # Конкретная операция: "создать таблицу".
            tableName: users  # Имя создаваемой таблицы: "users".
            columns:          # Начало списка столбцов этой таблицы.
              - column:       # Описание первого столбца.
                  name: id    # Имя столбца: "id".
                  type: UUID  # Тип данных: UUID (уникальный идентификатор).
                  constraints: # Ограничения для этого столбца.
                    primaryKey: true  # Столбец является ПЕРВИЧНЫМ КЛЮЧОМ (primary key).
                    nullable: false   # Столбец НЕ МОЖЕТ содержать NULL (обязателен).
              - column:     # Второй столбец.
                  name: email
                  type: VARCHAR(255)  # Тип: строка переменной длины, макс. 255 символов.
                  constraints:
                    unique: true   # На столбец наложено ограничение UNIQUE (все значения должны быть уникальны).
                    nullable: false  # Обязателен для заполнения.
              - column:   # Третий столбец.
                  name: password
                  type: VARCHAR(255)
                  constraints:
                    nullable: false  # Обязателен для заполнения.
              - column:   # Четвертый столбец.
                  name: full_name
                  type: VARCHAR(255) # Просто строка. Ограничений нет, может быть NULL.
              - column:   # Пятый столбец.
                  name: created_at  # Время регистрации пользователя
                  type: TIMESTAMP  # Тип: дата и время.
                  defaultValueComputed: CURRENT_TIMESTAMP # Значение по умолчанию: текущие дата и время
                                                          # в момент ВСТАВКИ строки. Заполнится автоматически.